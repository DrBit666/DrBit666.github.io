---
title: "è¿™äº›sqlå¯èƒ½å¼•èµ·å…¨è¡¨æ‰«æï¼Œå´å¸¸è¢«è¯¯ç”¨"
date: 2025-06-15 12:10:00 +0800
tags: mysql
categories: æŠ€æœ¯
---

å¤§å¤šæ•°äººåœ¨å†™SQLçš„æ—¶å€™ï¼Œä»…ä¼šè€ƒè™‘â€œæ˜¯å¦åœ¨å¯¹åº”å­—æ®µä¸Šå»ºäº†ç´¢å¼•â€ï¼Œé»˜è®¤æ•°æ®åº“ä¼šå¸®ç¨‹åºå…œåº•ã€‚

ç„¶è€Œï¼Œæ•°æ®åº“ä¸ä¼šæ›¿å¼€å‘åˆ¤æ–­â€œä¸šåŠ¡æ˜¯å¦åˆç†â€ï¼Œå®ƒåªä¼šè€è€å®žå®žå°†SQLè·‘å®Œã€‚

ä¸‹é¢æ˜¯ä¸€äº›æˆ‘åœ¨çœŸå®žé¡¹ç›®é‡Œè§è¿‡ï¼Œä¸”ç¬¬ä¸€æ¬¡çœ‹æ—¶éƒ½æ˜¾å¾—æŒºæ­£å¸¸çš„â€œSQLå‘â€ã€‚

---


### 1.åŸºæœ¬é”™è¯¯ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°è¡¨è¾¾å¼||å¯¹ç´¢å¼•è¿›è¡Œéšå¼ç±»åž‹è½¬æ¢

* éœ€æ±‚ï¼šæŸ¥è¯¢2025å¹´6æœˆ15æ—¥çš„æ•°æ®(å‡è®¾create_timeå­˜çš„æ˜¯dateç±»åž‹)

```sql
SELECT *
FROM user
WHERE DATE(create_time) = '2025-06-15';
```

è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜ï¼Œç´¢å¼•å­˜çš„æ˜¯create_timeï¼ŒæŸ¥çš„æ˜¯DATE(create_time)ï¼Œç´¢å¼•ç›´æŽ¥å¤±æ•ˆã€‚
ç»“æžœå°±æ˜¯ï¼šðŸ‘‰å…¨è¡¨æ‰«æ+æ¯è¡Œè®¡ç®—Date

æ­£ç¡®å†™æ³•ï¼š

```sql
WHERE create_time >= '2025-06-15 00:00:00'
  AND create_time <  '2025-06-06 00:00:00';
```


* order_noå­˜VARCHARï¼ŒæŸ¥è¯¢æ—¶ä¼ é€’intï¼š

```sql
SELECT *
FROM order
WHERE order_no = 123456;
```

è¿™ä¸ªä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼Œmysqlä¼šå…ˆæŠŠå­—æ®µè½¬æˆæ•°å­—ï¼Œå†è¿›è¡Œæ¯”è¾ƒï¼Œç­‰ä»·äºŽï¼š

```sql
WHERE CAST(order_no AS SIGNED) = 123456;
```

ç´¢å¼•ç›´æŽ¥ä½œåºŸã€‚

* å…¶ä»–ï¼šLIKEä»¥'%'å¼€å¤´ï¼Œä¸éµå®ˆâ€˜æœ€å·¦å‰ç¼€â€™ç­‰ï¼Œä¸èµ˜è¿°

---

### 2.è¿›é˜¶é”™è¯¯ï¼šoræ¡ä»¶æŠŠç´¢å¼•æ‹¼æ²¡äº†

* ðŸŒ°ï¼š

```sql
SELECT *
FROM post
WHERE author_id = 1
   OR editor_id = 1;
```

```txt
æ˜Žæ˜Žauthor_idå’Œeditor_idéƒ½å»ºäº†ç´¢å¼•ï¼Œä¸ºä»€ä¹ˆä¼šå¤±æ•ˆï¼Ÿ
```

* é—®é¢˜åœ¨äºŽï¼š
  * MySQLå¾ˆéš¾åŒæ—¶é«˜æ•ˆåˆ©ç”¨ä¸¤ä¸ªç´¢å¼•ï¼Œç‰¹åˆ«æ˜¯åœ¨ORé€‰æ‹©æ€§ä¸å¥½æ—¶ã€‚
  * æ­¤æ—¶ï¼Œä¼˜åŒ–å™¨æ›´åå‘æ”¾å¼ƒç´¢å¼•ï¼Œé‡‡ç”¨å…¨è¡¨æ‰«æã€‚

è¿™ç§æœ€å¥½å†™æˆå¦‚ä¸‹ðŸ‘‰:

```sql
SELECT * FROM post WHERE author_id = 1
UNION ALL
SELECT * FROM post WHERE editor_id = 1;
```


---

### 3.çœ‹èµ·æ¥é«˜çº§ï¼šNOT IN/ NOT EXIST

ðŸŒ°ï¼š
```sql
SELECT *
FROM user
WHERE id NOT IN (
  SELECT user_id FROM blacklist
);
```

è¿™ç§å†™æ³•åœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æžœinner sqlæŸ¥å‡ºNULLæ•°æ®äº†å‘¢ï¼Ÿ
è€Œä¸”åœ¨å¤§è¡¨åœºæ™¯ä¸‹ï¼š
```txt
NOT IN æœ¬è´¨æ˜¯â€œæŽ’é™¤æ‰€æœ‰ä¸æ»¡è¶³æ¡ä»¶çš„è¡Œâ€
```
è¿™å¯¹MySQLæ¥è¯´æ˜¯ä¸€ä¸ªéžå¸¸é‡çš„æ“ä½œã€‚

å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨LEFT JOIN + IS NULLåè€Œæ›´å¯æŽ§

å³ä½¿è¦ç”¨ç¤ºä¾‹ä¸­çš„sqlï¼Œé‚£ä¹ˆå¿…é¡»åœ¨ inner sqlä¸­åŠ ä¸Š WHERE CONDITION

```sql
WHERE user_id IS NOT NULL;
```

---

### 4.å°è¡¨joinå¤§è¡¨ï¼Œæ¡ä»¶å†™åäº†

ðŸŒ°ï¼š
```sql
SELECT *
FROM big_table b
JOIN small_table s ON b.id = s.big_id
WHERE b.status = 1;
```

å¦‚æžœçœŸæ­£çš„è¿‡æ»¤æ¡ä»¶åœ¨å°è¡¨ï¼Œå´å†™åœ¨å¤§è¡¨ï¼ŒMySQLå¯èƒ½ä¼šï¼š
* å…ˆæ‰«å¤§è¡¨
* åŒ¹é…å°è¡¨

åœ¨æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½æœ¬æ¥åªæƒ³æŸ¥100æ¡ï¼ŒMySQLå´æ‰«æäº†100wè¡Œã€‚

---

### 5.ç»“è¯­

å¾ˆå¤šæ—¶å€™ï¼Œå…¨è¡¨æ‰«æå¹¶ä¸æ˜¯sqlå†™é”™äº†ï¼Œè€Œæ˜¯sqlçš„è¯­ä¹‰å·²ç»è¶…å‡ºäº†â€œç´¢å¼•èƒ½å¸®å¿™â€çš„èŒƒå›´

**å…¨è¡¨æ‰«æä¸ä¸€å®šæ˜¯é”™ï¼Œä½†æ— æ„è¯†çš„å…¨è¡¨æ‰«æï¼Œä¸€å®šæ˜¯é—®é¢˜ã€‚**



